```mermaid
graph TB
    %% ========================================
    %% COMPONENT COMPOSITION - CURRENT
    %% ========================================
    
    subgraph Current["üî¥ CURRENT - Monolithic Components"]
        direction TB
        
        CurrentDashboard["AdminDashboard.tsx<br/>142 LOC<br/>‚ùå 5 responsibilities:<br/>‚Ä¢ Layout<br/>‚Ä¢ State management<br/>‚Ä¢ Data fetching<br/>‚Ä¢ Modal management<br/>‚Ä¢ Error handling"]
        
        CurrentDataPanel["DataPanel.tsx<br/>235 LOC<br/>‚ùå 6 responsibilities:<br/>‚Ä¢ Rendering<br/>‚Ä¢ Collapse state<br/>‚Ä¢ Data fetching<br/>‚Ä¢ Loading state<br/>‚Ä¢ Error handling<br/>‚Ä¢ Child coordination"]
        
        CurrentCounters["Counters (4 components)<br/>~80 LOC each<br/>‚ùå Duplicated pattern:<br/>‚Ä¢ UsersCounter<br/>‚Ä¢ PendingRegistrationsCounter<br/>‚Ä¢ ClientsCounter<br/>‚Ä¢ PartnersCounter"]
        
        CurrentDashboard -->|monolithic| CurrentDataPanel
        CurrentDashboard -->|duplicated| CurrentCounters
        
        CurrentProblems["‚ùå PROBLEMS:<br/>‚Ä¢ Tight coupling<br/>‚Ä¢ Hard to test<br/>‚Ä¢ Hard to reuse<br/>‚Ä¢ Duplicated code<br/>‚Ä¢ Mixed concerns"]
    end
    
    style Current fill:#ffebee
    style CurrentProblems fill:#c62828,color:#fff
    
    %% ========================================
    %% COMPONENT COMPOSITION - PROPOSED
    %% ========================================
    
    subgraph Proposed["üü¢ PROPOSED - Composition Pattern"]
        direction TB
        
        subgraph Container["Container (Page)"]
            AdminDashboard["AdminDashboard.tsx<br/>~60 LOC<br/>‚úÖ Single responsibility:<br/>‚Ä¢ Composition only"]
        end
        
        subgraph SmartComponents["Smart Components (Connected)"]
            DashboardStats["DashboardStats.tsx<br/>~40 LOC<br/>‚úÖ Responsibilities:<br/>‚Ä¢ Use useDashboardStats hook<br/>‚Ä¢ Render BaseCounter components"]
            
            VehiclesTable["VehiclesTable.tsx<br/>~50 LOC<br/>‚úÖ Responsibilities:<br/>‚Ä¢ Use useVehicles hook<br/>‚Ä¢ Render VehicleRow components"]
            
            PartnersCard["PartnersCard.tsx<br/>~50 LOC<br/>‚úÖ Responsibilities:<br/>‚Ä¢ Use usePartners hook<br/>‚Ä¢ Render PartnersList"]
        end
        
        subgraph DumbComponents["Dumb Components (Presentational)"]
            BaseCounter["BaseCounter.tsx<br/>~30 LOC<br/>‚úÖ Props:<br/>‚Ä¢ title: string<br/>‚Ä¢ value: number<br/>‚Ä¢ icon?: ReactNode<br/>‚Ä¢ loading?: boolean<br/>‚Ä¢ error?: string<br/>‚Ä¢ onClick?: () => void"]
            
            CollapsibleCard["CollapsibleCard.tsx<br/>~40 LOC<br/>‚úÖ Props:<br/>‚Ä¢ title: string<br/>‚Ä¢ children: ReactNode<br/>‚Ä¢ defaultOpen?: boolean<br/>‚Ä¢ actions?: ReactNode"]
            
            Modal["Modal.tsx<br/>~35 LOC<br/>‚úÖ Props:<br/>‚Ä¢ isOpen: boolean<br/>‚Ä¢ onClose: () => void<br/>‚Ä¢ title: string<br/>‚Ä¢ children: ReactNode"]
            
            VehicleRow["VehicleRow.tsx<br/>~25 LOC<br/>‚úÖ Props:<br/>‚Ä¢ vehicle: VehicleDTO<br/>‚Ä¢ onStatusChange?: (id, status) => void"]
            
            PartnersList["PartnersList.tsx<br/>~30 LOC<br/>‚úÖ Props:<br/>‚Ä¢ partners: PartnerDTO[]<br/>‚Ä¢ onSelect?: (id) => void"]
        end
        
        subgraph CustomHooks["Custom Hooks (State Logic)"]
            UseDashboardStats["useDashboardStats()<br/>~25 LOC<br/>‚úÖ Returns:<br/>‚Ä¢ stats: DashboardStatsDTO<br/>‚Ä¢ loading: boolean<br/>‚Ä¢ error: Error | null<br/>‚Ä¢ refetch: () => void"]
            
            UseVehicles["useVehicles()<br/>~30 LOC<br/>‚úÖ Returns:<br/>‚Ä¢ vehicles: VehicleDTO[]<br/>‚Ä¢ loading: boolean<br/>‚Ä¢ error: Error | null<br/>‚Ä¢ updateStatus: (id, status) => void"]
            
            UsePartners["usePartners()<br/>~25 LOC<br/>‚úÖ Returns:<br/>‚Ä¢ partners: PartnerDTO[]<br/>‚Ä¢ loading: boolean<br/>‚Ä¢ error: Error | null<br/>‚Ä¢ refetch: () => void"]
            
            UseLoadingOrchestrator["useLoadingOrchestrator()<br/>~40 LOC<br/>‚úÖ Returns:<br/>‚Ä¢ isLoading: boolean<br/>‚Ä¢ register: (key, fn) => void<br/>‚Ä¢ unregister: (key) => void<br/>‚Ä¢ executeAll: () => void"]
            
            UseModalManager["useModalManager()<br/>~35 LOC<br/>‚úÖ Returns:<br/>‚Ä¢ activeModal: string | null<br/>‚Ä¢ open: (modalId) => void<br/>‚Ä¢ close: () => void"]
        end
        
        %% Composition flow
        AdminDashboard -->|composes| DashboardStats
        AdminDashboard -->|composes| VehiclesTable
        AdminDashboard -->|composes| PartnersCard
        AdminDashboard -->|uses| UseLoadingOrchestrator
        AdminDashboard -->|uses| UseModalManager
        
        DashboardStats -->|uses| UseDashboardStats
        DashboardStats -->|renders 4x| BaseCounter
        
        VehiclesTable -->|uses| UseVehicles
        VehiclesTable -->|wraps with| CollapsibleCard
        VehiclesTable -->|renders many| VehicleRow
        
        PartnersCard -->|uses| UsePartners
        PartnersCard -->|wraps with| CollapsibleCard
        PartnersCard -->|renders| PartnersList
        
        UseModalManager -->|controls| Modal
        
        ProposedBenefits["‚úÖ BENEFITS:<br/>‚Ä¢ Loose coupling<br/>‚Ä¢ Easy to test<br/>‚Ä¢ Highly reusable<br/>‚Ä¢ No duplication<br/>‚Ä¢ Clear separation<br/>‚Ä¢ Small components<br/>‚Ä¢ Single responsibility"]
    end
    
    style Proposed fill:#e8f5e9
    style Container fill:#fff9c4
    style SmartComponents fill:#c5cae9
    style DumbComponents fill:#bbdefb
    style CustomHooks fill:#b2dfdb
    style ProposedBenefits fill:#2e7d32,color:#fff
    
    %% ========================================
    %% REUSABILITY DIAGRAM
    %% ========================================
    
    subgraph Reusability["‚ôªÔ∏è COMPONENT REUSABILITY"]
        direction LR
        
        BaseCounterReuse["BaseCounter<br/>Can be used for:<br/>‚Ä¢ Total Users<br/>‚Ä¢ Pending Users<br/>‚Ä¢ Total Clients<br/>‚Ä¢ Total Partners<br/>‚Ä¢ Total Vehicles<br/>‚Ä¢ ANY counter!"]
        
        CollapsibleCardReuse["CollapsibleCard<br/>Can be used for:<br/>‚Ä¢ Vehicles section<br/>‚Ä¢ Partners section<br/>‚Ä¢ Users section<br/>‚Ä¢ ANY collapsible content!"]
        
        ModalReuse["Modal<br/>Can be used for:<br/>‚Ä¢ Create User<br/>‚Ä¢ Assign Specialist<br/>‚Ä¢ Delete confirmation<br/>‚Ä¢ ANY modal!"]
        
        BaseCounterReuse -.->|eliminates| DuplicatedCounters["4 duplicated counter components"]
        CollapsibleCardReuse -.->|eliminates| DuplicatedCards["3 duplicated card implementations"]
        ModalReuse -.->|eliminates| DuplicatedModals["Internal modal management in Toolbar"]
    end
    
    style Reusability fill:#f3e5f5
    style DuplicatedCounters fill:#c62828,color:#fff
    style DuplicatedCards fill:#c62828,color:#fff
    style DuplicatedModals fill:#c62828,color:#fff
    
    %% ========================================
    %% METRICS
    %% ========================================
    
    subgraph Metrics["üìä METRICS COMPARISON"]
        direction TB
        
        MetricsCurrent["CURRENT:<br/>‚Ä¢ AdminDashboard: 142 LOC<br/>‚Ä¢ DataPanel: 235 LOC<br/>‚Ä¢ 4 Counters: 320 LOC<br/>‚Ä¢ Total: ~700 LOC"]
        
        MetricsProposed["PROPOSED:<br/>‚Ä¢ AdminDashboard: 60 LOC<br/>‚Ä¢ DashboardStats: 40 LOC<br/>‚Ä¢ BaseCounter: 30 LOC<br/>‚Ä¢ CollapsibleCard: 40 LOC<br/>‚Ä¢ 3 hooks: 80 LOC<br/>‚Ä¢ Total: ~250 LOC"]
        
        MetricsReduction["REDUCTION:<br/>64% less code!<br/>~450 LOC eliminated"]
        
        MetricsCurrent -.-> MetricsReduction
        MetricsProposed -.-> MetricsReduction
    end
    
    style Metrics fill:#e0f2f1
    style MetricsReduction fill:#00897b,color:#fff
```
